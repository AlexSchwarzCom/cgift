/* Source and licensing information for the line(s) below can be found at http://localhost:8888/48specials/core/misc/machine-name.js. */
(function(e,a,t){a.behaviors.machineName={attach:function(t,n){var r=this,s=e(t),l=null,i=null;function c(e){var a=e.data;a.$wrapper.removeClass('visually-hidden');a.$target.trigger('focus');a.$suffix.hide();a.$source.off('.machineName')};function o(a){var n=a.data,t=n.options,s=e(a.target).val(),o=new RegExp(t.replace_pattern,'g'),c=s.toLowerCase().replace(o,t.replace).substr(0,t.maxlength);if(i&&i.readystate!==4){i.abort();i=null};if(l){clearTimeout(l);l=null};if(s.toLowerCase()!==c){l=setTimeout(function(){i=r.transliterate(s,t).done(function(e){r.showMachineName(e.substr(0,t.maxlength),n)})},300)}
else{r.showMachineName(c,n)}};Object.keys(n.machineName).forEach(function(i){var u='',l=n.machineName[i],p=s.find(i).addClass('machine-name-source').once('machine-name'),t=s.find(l.target).addClass('machine-name-target'),f=s.find(l.suffix),d=t.closest('.js-form-item');if(!p.length||!t.length||!f.length||!d.length){return};if(t.hasClass('error')){return};l.maxlength=t.attr('maxlength');d.addClass('visually-hidden');if(t.is(':disabled')||t.val()!==''){u=t.val()}
else if(p.val()!==''){u=r.transliterate(p.val(),l)};var h=e('<span class="machine-name-value">'+l.field_prefix+a.checkPlain(u)+l.field_suffix+'</span>');f.empty();if(l.label){f.append('<span class="machine-name-label">'+l.label+': </span>')};f.append(h);if(t.is(':disabled')){return};var m={$source:p,$target:t,$suffix:f,$wrapper:d,$preview:h,options:l};var v=e('<span class="admin-link"><button type="button" class="link">'+a.t('Edit')+'</button></span>').on('click',m,c);f.append(v);if(t.val()===''){p.on('formUpdated.machineName',m,o).trigger('formUpdated.machineName')};t.on('invalid',m,c)})},showMachineName:function(e,t){var n=t.options;if(e!==''){if(e!==n.replace){t.$target.val(e);t.$preview.html(n.field_prefix+a.checkPlain(e)+n.field_suffix)};t.$suffix.show()}
else{t.$suffix.hide();t.$target.val(e);t.$preview.empty()}},transliterate:function(n,i){return e.get(a.url('machine_name/transliterate'),{text:n,langcode:t.langcode,replace_pattern:i.replace_pattern,replace_token:i.replace_token,replace:i.replace,lowercase:!0})}}})(jQuery,Drupal,drupalSettings);
/* Source and licensing information for the above line(s) can be found at http://localhost:8888/48specials/core/misc/machine-name.js. */